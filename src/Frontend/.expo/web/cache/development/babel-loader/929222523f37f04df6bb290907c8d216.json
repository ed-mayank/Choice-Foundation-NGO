{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction GetP_id() {\n  var c = 0;\n  var index = 0;\n  var path = location.pathname;\n\n  for (var i = 0; i < path.length; i++) {\n    if (path.charAt(i) == '/') {\n      c++;\n    }\n\n    if (c == 3) {\n      index = i;\n      break;\n    }\n\n    if (c == 2) {\n      index = path.length;\n    }\n  }\n\n  return path.substring(12, index);\n}\n\nvar OI = function OI() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      MAP = _useState2[0],\n      setMAP = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      fio2 = _useState4[0],\n      setFio2 = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pao2 = _useState6[0],\n      setPao2 = _useState6[1];\n\n  var _useState7 = useState(1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      c = _useState8[0],\n      setC = _useState8[1];\n\n  var location = useLocation();\n  var score = 0;\n  var flag = 0;\n  var pf = 0;\n  var pfSevere = \"\";\n  var oiSevere = \"\";\n\n  if (Number(MAP) > 0 && Number(fio2) > 0 && Number(pao2) > 0) {\n    flag = 1;\n    pf = Number(pao2) / Number(fio2);\n\n    if (pf > 200 && pf <= 300) {\n      pfSevere = \"Acute Lung Injury (ALI) with Mild Acute Respiratory Distress syndrome (ARDS)\";\n    } else if (pf > 100 && pf <= 200) {\n      pfSevere = \"Moderate Acute Respiratory Distress syndrome (ARDS)\";\n    } else if (pf <= 100) {\n      pfSevere = \"Severe Acute Respiratory Distress syndrome (ARDS)\";\n    }\n\n    score = Number(MAP) / pf;\n\n    if (score < 4) {\n      oiSevere = \"Severity: At risk for pediatric ARDS\";\n    } else if (score >= 4 && score < 8) {\n      oiSevere = \"Severity: Mild pediatric ARDS\";\n    } else if (score >= 8 && score < 16) {\n      oiSevere = \"Severity: Moderate pediatric ARDS\";\n    }\n  }\n\n  var onClickAdd = function onClickAdd(event) {\n    if (flag == 1) {\n      setC(0);\n      var newCrs = {\n        \"P_id\": GetP_id(),\n        \"a\": MAP,\n        \"b\": fio2,\n        \"c\": pao2,\n        \"d\": pf,\n        \"e\": pfSevere,\n        \"f\": score,\n        \"g\": oiSevere\n      };\n      axios.post(\"http://localhost:4000/add/CRS\", newCrs).then(function (response) {\n        if (response.data != null) {\n          alert(\"Updated CRS for patient with id: \" + newCrs.P_id);\n        } else {\n          alert(\"Unable to add!\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      alert(\"Fill all the details\");\n    }\n  };\n\n  return _jsxs(SafeAreaView, {\n    children: [_jsx(Text, {\n      style: styles.prism,\n      children: \"Oxygenation Index(OI)\"\n    }), _jsxs(View, {\n      style: [styles.container1],\n      children: [_jsxs(View, {\n        style: styles.dropContainer,\n        children: [_jsx(Text, {\n          style: styles.dropdownContent,\n          children: \"MAP: \"\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"MAP\",\n          onChangeText: setMAP,\n          value: MAP\n        })]\n      }), _jsxs(View, {\n        style: styles.dropContainer,\n        children: [_jsx(Text, {\n          style: styles.dropdownContent,\n          children: \"FiO2: \"\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"FiO2\",\n          onChangeText: setFio2,\n          value: fio2\n        })]\n      }), _jsxs(View, {\n        style: styles.dropContainer,\n        children: [_jsx(Text, {\n          style: styles.dropdownContent,\n          children: \"PaO2: \"\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"PaO2\",\n          onChangeText: setPao2,\n          value: pao2\n        })]\n      })]\n    }), flag == 1 && _jsx(View, {\n      style: [styles.container2],\n      children: _jsxs(View, {\n        children: [_jsxs(Text, {\n          style: styles.assessment,\n          children: [\"pf Ratio = \", pf]\n        }), pf > 200 && pf <= 300 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Acute Lung Injury (ALI) with Mild Acute Respiratory Distress syndrome (ARDS)\"\n        }), pf > 100 && pf <= 200 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Moderate Acute Respiratory Distress syndrome (ARDS)\"\n        }), pf <= 100 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Severe Acute Respiratory Distress syndrome (ARDS)\"\n        }), _jsxs(Text, {\n          style: styles.assessment,\n          children: [\"OI = \", score]\n        }), score < 4 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Severity: At risk for pediatric ARDS\"\n        }), score >= 4 && score < 8 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Severity: Mild pediatric ARDS\"\n        }), score >= 8 && score < 16 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Severity: Moderate pediatric ARDS\"\n        }), score >= 16 && _jsx(Text, {\n          style: styles.assessment,\n          children: \"Severity: severe pediatric ARDS\"\n        })]\n      })\n    }), c == 1 && _jsx(Pressable, {\n      style: styles.submit,\n      children: _jsx(Button, {\n        title: \"Add\",\n        onPress: onClickAdd,\n        children: \"Add\"\n      })\n    })]\n  });\n};\n\nexport default OI;\nvar styles = StyleSheet.create({\n  prism: {\n    fontSize: 50,\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  assessment: {\n    marginTop: 20,\n    fontSize: 30,\n    fontWeight: \"bold\"\n  },\n  dropContainer: {\n    flexDirection: \"row\",\n    marginBottom: 20,\n    marginTop: 10\n  },\n  dropdownContent: {\n    fontSize: 20,\n    marginTop: 10\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    width: 200\n  },\n  text: {\n    fontWeight: \"bold\"\n  },\n  container1: {\n    backgroundColor: \"#f0ffff\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5\n  },\n  container2: {\n    backgroundColor: \"#fffacd\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5\n  },\n  container3: {\n    backgroundColor: \"#ffb6c1\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5\n  },\n  container4: {\n    backgroundColor: \"#f5f5dc\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5\n  },\n  container5: {\n    backgroundColor: \"#dda0dd\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5\n  },\n  subscore: {\n    fontWeight: \"bold\",\n    borderWidth: 1,\n    backgroundColor: \"#fff\",\n    margin: 10,\n    padding: 4,\n    fontSize: 20\n  },\n  submit: {\n    borderWidth: 2,\n    backgroundColor: \"#56BF9C\",\n    margin: 10,\n    padding: 7,\n    marginLeft: 800,\n    width: 90\n  }\n});","map":{"version":3,"sources":["/home/xenos/2ndYear/Semester_4/DASS/Project/Repo/DASS2K22-Team-48/Frontend/components/Assessment/OI.js"],"names":["React","useState","useEffect","useNavigate","useParams","useLocation","axios","GetP_id","c","index","path","location","pathname","i","length","charAt","substring","OI","MAP","setMAP","fio2","setFio2","pao2","setPao2","setC","score","flag","pf","pfSevere","oiSevere","Number","onClickAdd","event","newCrs","post","then","response","data","alert","P_id","catch","error","console","log","styles","prism","container1","dropContainer","dropdownContent","input","container2","assessment","submit","StyleSheet","create","fontSize","fontWeight","textAlign","marginTop","flexDirection","marginBottom","height","margin","borderWidth","padding","width","text","backgroundColor","paddingLeft","container3","container4","container5","subscore","marginLeft"],"mappings":";;;;;;;;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,WAAjC,QAAoD,kBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AACA,SAASC,OAAT,GAAmB;AAEjB,MAAIC,CAAC,GAAG,CAAR;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,IAAI,GAAGC,QAAQ,CAACC,QAApB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,QAAIH,IAAI,CAACK,MAAL,CAAYF,CAAZ,KAAkB,GAAtB,EAA2B;AACzBL,MAAAA,CAAC;AACF;;AACD,QAAIA,CAAC,IAAI,CAAT,EAAY;AACVC,MAAAA,KAAK,GAAGI,CAAR;AACA;AACD;;AACD,QAAIL,CAAC,IAAI,CAAT,EAAY;AACVC,MAAAA,KAAK,GAAGC,IAAI,CAACI,MAAb;AACD;AACF;;AACD,SAAOJ,IAAI,CAACM,SAAL,CAAe,EAAf,EAAmBP,KAAnB,CAAP;AACD;;AACD,IAAMQ,EAAE,GAAG,SAALA,EAAK,GAAM;AACf,kBAAsBhB,QAAQ,CAAC,EAAD,CAA9B;AAAA;AAAA,MAAOiB,GAAP;AAAA,MAAYC,MAAZ;;AACA,mBAAwBlB,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOmB,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAwBpB,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOqB,IAAP;AAAA,MAAaC,OAAb;;AAEA,mBAAiBtB,QAAQ,CAAC,CAAD,CAAzB;AAAA;AAAA,MAAOO,CAAP;AAAA,MAAUgB,IAAV;;AACA,MAAMb,QAAQ,GAAEN,WAAW,EAA3B;AACA,MAAIoB,KAAK,GAAG,CAAZ;AACA,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIC,EAAE,GAAG,CAAT;AACA,MAAIC,QAAQ,GAAC,EAAb;AACA,MAAIC,QAAQ,GAAC,EAAb;;AACA,MAAIC,MAAM,CAACZ,GAAD,CAAN,GAAc,CAAd,IAAmBY,MAAM,CAACV,IAAD,CAAN,GAAe,CAAlC,IAAuCU,MAAM,CAACR,IAAD,CAAN,GAAe,CAA1D,EAA6D;AAC3DI,IAAAA,IAAI,GAAG,CAAP;AACAC,IAAAA,EAAE,GAAGG,MAAM,CAACR,IAAD,CAAN,GAAaQ,MAAM,CAACV,IAAD,CAAxB;;AACA,QAAGO,EAAE,GAAE,GAAJ,IAAWA,EAAE,IAAG,GAAnB,EAAuB;AACrBC,MAAAA,QAAQ,GAAC,8EAAT;AACD,KAFD,MAGK,IAAGD,EAAE,GAAE,GAAJ,IAAWA,EAAE,IAAG,GAAnB,EAAuB;AAC1BC,MAAAA,QAAQ,GAAC,qDAAT;AACD,KAFI,MAGA,IAAGD,EAAE,IAAG,GAAR,EAAY;AACfC,MAAAA,QAAQ,GAAC,mDAAT;AACD;;AACDH,IAAAA,KAAK,GAAGK,MAAM,CAACZ,GAAD,CAAN,GAAYS,EAApB;;AACA,QAAGF,KAAK,GAAC,CAAT,EAAW;AACTI,MAAAA,QAAQ,GAAC,sCAAT;AACD,KAFD,MAGK,IAAGJ,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAG,CAAzB,EACL;AACEI,MAAAA,QAAQ,GAAC,+BAAT;AACD,KAHI,MAIA,IAAGJ,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAG,EAAzB,EACL;AACEI,MAAAA,QAAQ,GAAC,mCAAT;AACD;AACF;;AAED,MAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,QAAIN,IAAI,IAAI,CAAZ,EAAe;AACbF,MAAAA,IAAI,CAAC,CAAD,CAAJ;AACA,UAAMS,MAAM,GAAG;AACb,gBAAQ1B,OAAO,EADF;AAEb,aAAKW,GAFQ;AAGb,aAAKE,IAHQ;AAIb,aAAKE,IAJQ;AAKb,aAAKK,EALQ;AAMb,aAAKC,QANQ;AAOb,aAAKH,KAPQ;AAQb,aAAKI;AARQ,OAAf;AAYAvB,MAAAA,KAAK,CACF4B,IADH,CACQ,+BADR,EACyCD,MADzC,EAEGE,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClB,YAAKA,QAAQ,CAACC,IAAV,IAAmB,IAAvB,EAA6B;AAC3BC,UAAAA,KAAK,CAAC,sCAAsCL,MAAM,CAACM,IAA9C,CAAL;AACD,SAFD,MAGK;AACHD,UAAAA,KAAK,CAAC,gBAAD,CAAL;AAED;AAEF,OAXH,EAYGE,KAZH,CAYS,UAAUC,KAAV,EAAiB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAdH;AAeD,KA7BD,MA8BK;AACHH,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACD;AACF,GAlCD;;AAmCA,SACE,MAAC,YAAD;AAAA,eACE,KAAC,IAAD;AAAM,MAAA,KAAK,EAAEM,MAAM,CAACC,KAApB;AAAA;AAAA,MADF,EAEE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACD,MAAM,CAACE,UAAR,CAAb;AAAA,iBACE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,aAApB;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEH,MAAM,CAACI,eAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEJ,MAAM,CAACK,KADhB;AAEE,UAAA,WAAW,EAAC,KAFd;AAGE,UAAA,YAAY,EAAE9B,MAHhB;AAIE,UAAA,KAAK,EAAED;AAJT,UAFF;AAAA,QADF,EAUE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE0B,MAAM,CAACG,aAApB;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEH,MAAM,CAACI,eAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEJ,MAAM,CAACK,KADhB;AAEE,UAAA,WAAW,EAAC,MAFd;AAGE,UAAA,YAAY,EAAE5B,OAHhB;AAIE,UAAA,KAAK,EAAED;AAJT,UAFF;AAAA,QAVF,EAmBE,MAAC,IAAD;AAAM,QAAA,KAAK,EAAEwB,MAAM,CAACG,aAApB;AAAA,mBACE,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEH,MAAM,CAACI,eAApB;AAAA;AAAA,UADF,EAEE,KAAC,SAAD;AACE,UAAA,KAAK,EAAEJ,MAAM,CAACK,KADhB;AAEE,UAAA,WAAW,EAAC,MAFd;AAGE,UAAA,YAAY,EAAE1B,OAHhB;AAIE,UAAA,KAAK,EAAED;AAJT,UAFF;AAAA,QAnBF;AAAA,MAFF,EA+BGI,IAAI,IAAI,CAAR,IACC,KAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACkB,MAAM,CAACM,UAAR,CAAb;AAAA,gBACE,MAAC,IAAD;AAAA,mBACE,MAAC,IAAD;AAAM,UAAA,KAAK,EAAEN,MAAM,CAACO,UAApB;AAAA,oCACcxB,EADd;AAAA,UADF,EAIGA,EAAE,GAAE,GAAJ,IAAWA,EAAE,IAAG,GAAhB,IACC,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEiB,MAAM,CAACO,UAApB;AAAA;AAAA,UALJ,EASGxB,EAAE,GAAE,GAAJ,IAAWA,EAAE,IAAG,GAAhB,IACC,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEiB,MAAM,CAACO,UAApB;AAAA;AAAA,UAVJ,EAcGxB,EAAE,IAAG,GAAL,IACC,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEiB,MAAM,CAACO,UAApB;AAAA;AAAA,UAfJ,EAmBE,MAAC,IAAD;AAAM,UAAA,KAAK,EAAEP,MAAM,CAACO,UAApB;AAAA,8BACQ1B,KADR;AAAA,UAnBF,EAsBGA,KAAK,GAAG,CAAR,IACD,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEmB,MAAM,CAACO,UAApB;AAAA;AAAA,UAvBF,EA2BG1B,KAAK,IAAI,CAAT,IAAcA,KAAK,GAAG,CAAtB,IACD,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEmB,MAAM,CAACO,UAApB;AAAA;AAAA,UA5BF,EAgCG1B,KAAK,IAAG,CAAR,IAAaA,KAAK,GAAE,EAApB,IACD,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEmB,MAAM,CAACO,UAApB;AAAA;AAAA,UAjCF,EAqCG1B,KAAK,IAAG,EAAR,IACD,KAAC,IAAD;AAAM,UAAA,KAAK,EAAEmB,MAAM,CAACO,UAApB;AAAA;AAAA,UAtCF;AAAA;AADF,MAhCJ,EA8EG3C,CAAC,IAAI,CAAL,IACC,KAAC,SAAD;AAAW,MAAA,KAAK,EAAEoC,MAAM,CAACQ,MAAzB;AAAA,gBACE,KAAC,MAAD;AACE,QAAA,KAAK,EAAC,KADR;AAGE,QAAA,OAAO,EAAErB,UAHX;AAAA;AAAA;AADF,MA/EJ;AAAA,IADF;AA2FD,CApKD;;AAqKA,eAAed,EAAf;AAEA,IAAM2B,MAAM,GAAGS,UAAU,CAACC,MAAX,CAAkB;AAC/BT,EAAAA,KAAK,EAAE;AACLU,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,UAAU,EAAE,MAFP;AAGLC,IAAAA,SAAS,EAAE;AAHN,GADwB;AAM/BN,EAAAA,UAAU,EAAE;AACVO,IAAAA,SAAS,EAAE,EADD;AAEVH,IAAAA,QAAQ,EAAE,EAFA;AAGVC,IAAAA,UAAU,EAAE;AAHF,GANmB;AAW/BT,EAAAA,aAAa,EAAE;AACbY,IAAAA,aAAa,EAAE,KADF;AAEbC,IAAAA,YAAY,EAAE,EAFD;AAGbF,IAAAA,SAAS,EAAE;AAHE,GAXgB;AAgB/BV,EAAAA,eAAe,EAAE;AACfO,IAAAA,QAAQ,EAAE,EADK;AAEfG,IAAAA,SAAS,EAAE;AAFI,GAhBc;AAoB/BT,EAAAA,KAAK,EAAE;AACLY,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,MAAM,EAAE,EAFH;AAGLC,IAAAA,WAAW,EAAE,CAHR;AAILC,IAAAA,OAAO,EAAE,EAJJ;AAKLC,IAAAA,KAAK,EAAE;AALF,GApBwB;AA2B/BC,EAAAA,IAAI,EAAE;AACJV,IAAAA,UAAU,EAAE;AADR,GA3ByB;AA8B/BV,EAAAA,UAAU,EAAE;AACVqB,IAAAA,eAAe,EAAE,SADP;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVL,IAAAA,WAAW,EAAE,CAHH;AAIVD,IAAAA,MAAM,EAAE;AAJE,GA9BmB;AAoC/BZ,EAAAA,UAAU,EAAE;AACViB,IAAAA,eAAe,EAAE,SADP;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVL,IAAAA,WAAW,EAAE,CAHH;AAIVD,IAAAA,MAAM,EAAE;AAJE,GApCmB;AA0C/BO,EAAAA,UAAU,EAAE;AACVF,IAAAA,eAAe,EAAE,SADP;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVL,IAAAA,WAAW,EAAE,CAHH;AAIVD,IAAAA,MAAM,EAAE;AAJE,GA1CmB;AAgD/BQ,EAAAA,UAAU,EAAE;AACVH,IAAAA,eAAe,EAAE,SADP;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVL,IAAAA,WAAW,EAAE,CAHH;AAIVD,IAAAA,MAAM,EAAE;AAJE,GAhDmB;AAsD/BS,EAAAA,UAAU,EAAE;AACVJ,IAAAA,eAAe,EAAE,SADP;AAEVC,IAAAA,WAAW,EAAE,EAFH;AAGVL,IAAAA,WAAW,EAAE,CAHH;AAIVD,IAAAA,MAAM,EAAE;AAJE,GAtDmB;AA4D/BU,EAAAA,QAAQ,EAAE;AACRhB,IAAAA,UAAU,EAAE,MADJ;AAERO,IAAAA,WAAW,EAAE,CAFL;AAGRI,IAAAA,eAAe,EAAE,MAHT;AAIRL,IAAAA,MAAM,EAAE,EAJA;AAKRE,IAAAA,OAAO,EAAE,CALD;AAMRT,IAAAA,QAAQ,EAAE;AANF,GA5DqB;AAoE/BH,EAAAA,MAAM,EAAE;AACNW,IAAAA,WAAW,EAAE,CADP;AAENI,IAAAA,eAAe,EAAC,SAFV;AAGNL,IAAAA,MAAM,EAAE,EAHF;AAINE,IAAAA,OAAO,EAAE,CAJH;AAKNS,IAAAA,UAAU,EAAE,GALN;AAMNR,IAAAA,KAAK,EAAE;AAND;AApEuB,CAAlB,CAAf","sourcesContent":["import { StyleSheet, Text, View,SafeAreaView, Picker, TextInput, Button, Pressable } from \"react-native\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport axios from 'axios';\nfunction GetP_id() {\n\n  var c = 0;\n  var index = 0\n  var path = location.pathname\n  for (var i = 0; i < path.length; i++) {\n    if (path.charAt(i) == '/') {\n      c++;\n    }\n    if (c == 3) {\n      index = i\n      break;\n    }\n    if (c == 2) {\n      index = path.length;\n    }\n  }\n  return path.substring(12, index)\n}\nconst OI = () => {\n  const [MAP, setMAP] = useState(\"\");\n  const [fio2, setFio2] = useState(\"\");\n  const [pao2, setPao2] = useState(\"\");\n\n  const [c, setC]= useState(1)\n  const location= useLocation()\n  let score = 0;\n  let flag = 0;\n  let pf = 0;\n  let pfSevere=\"\";\n  let oiSevere=\"\";\n  if (Number(MAP) > 0 && Number(fio2) > 0 && Number(pao2) > 0) {\n    flag = 1;\n    pf = Number(pao2)/Number(fio2);\n    if(pf >200 && pf <=300){\n      pfSevere=\"Acute Lung Injury (ALI) with Mild Acute Respiratory Distress syndrome (ARDS)\"\n    }\n    else if(pf >100 && pf <=200){\n      pfSevere=\"Moderate Acute Respiratory Distress syndrome (ARDS)\"\n    }\n    else if(pf <=100){\n      pfSevere=\"Severe Acute Respiratory Distress syndrome (ARDS)\"\n    }\n    score = Number(MAP)/pf;\n    if(score<4){\n      oiSevere=\"Severity: At risk for pediatric ARDS\"\n    }\n    else if(score >= 4 && score < 8)\n    {\n      oiSevere=\"Severity: Mild pediatric ARDS\"\n    }\n    else if(score >= 8 && score < 16)\n    {\n      oiSevere=\"Severity: Moderate pediatric ARDS\"\n    }\n  }\n  \n  const onClickAdd = (event) => {\n    if (flag == 1) {\n      setC(0);\n      const newCrs = {\n        \"P_id\": GetP_id(),\n        \"a\": MAP,\n        \"b\": fio2,\n        \"c\": pao2,\n        \"d\": pf,\n        \"e\": pfSevere,\n        \"f\": score,\n        \"g\": oiSevere\n      }\n\n      // console.log(newCrs)\n      axios\n        .post(\"http://localhost:4000/add/CRS\", newCrs)\n        .then((response) => {\n          if ((response.data) != null) {\n            alert(\"Updated CRS for patient with id: \" + newCrs.P_id);\n          }\n          else {\n            alert(\"Unable to add!\");\n\n          }\n          // console.log(response.data);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n    else {\n      alert(\"Fill all the details\");\n    }\n  }\n  return (\n    <SafeAreaView>\n      <Text style={styles.prism}>Oxygenation Index(OI)</Text>\n      <View style={[styles.container1]}>\n        <View style={styles.dropContainer}>\n          <Text style={styles.dropdownContent}>MAP: </Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"MAP\"\n            onChangeText={setMAP}\n            value={MAP}\n          />\n        </View>\n        <View style={styles.dropContainer}>\n          <Text style={styles.dropdownContent}>FiO2: </Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"FiO2\"\n            onChangeText={setFio2}\n            value={fio2}\n          />\n        </View>\n        <View style={styles.dropContainer}>\n          <Text style={styles.dropdownContent}>PaO2: </Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"PaO2\"\n            onChangeText={setPao2}\n            value={pao2}\n          />\n        </View>\n      </View>\n      {flag == 1 && (\n        <View style={[styles.container2]}>\n          <View>\n            <Text style={styles.assessment}>\n              pf Ratio = {pf}\n            </Text>\n            {pf >200 && pf <=300 &&\n              <Text style={styles.assessment}>\n              Acute Lung Injury (ALI) with Mild Acute Respiratory Distress syndrome (ARDS)\n              </Text>\n            }\n            {pf >100 && pf <=200 &&\n              <Text style={styles.assessment}>\n              Moderate Acute Respiratory Distress syndrome (ARDS)\n              </Text>\n            }\n            {pf <=100 &&\n              <Text style={styles.assessment}>\n               Severe Acute Respiratory Distress syndrome (ARDS)\n              </Text>\n            }\n            <Text style={styles.assessment}>\n              OI = {score}\n            </Text>\n            {score < 4 && \n            <Text style={styles.assessment}>\n              Severity: At risk for pediatric ARDS\n            </Text>\n            }\n            {score >= 4 && score < 8 && \n            <Text style={styles.assessment}>\n              Severity: Mild pediatric ARDS\n            </Text>\n            }\n            {score >=8 && score <16 && \n            <Text style={styles.assessment}>\n              Severity: Moderate pediatric ARDS\n            </Text>\n            }\n            {score >=16 && \n            <Text style={styles.assessment}>\n              Severity: severe pediatric ARDS\n            </Text>\n            }\n          </View>\n        </View>\n      )}\n      {c == 1 && (\n        <Pressable style={styles.submit}>\n          <Button\n            title=\"Add\"\n\n            onPress={onClickAdd}\n          >\n            Add\n          </Button>\n        </Pressable>)}\n    </SafeAreaView>\n  );\n};\nexport default OI;\n\nconst styles = StyleSheet.create({\n  prism: {\n    fontSize: 50,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n  },\n  assessment: {\n    marginTop: 20,\n    fontSize: 30,\n    fontWeight: \"bold\",\n  },\n  dropContainer: {\n    flexDirection: \"row\",\n    marginBottom: 20,\n    marginTop: 10,\n  },\n  dropdownContent: {\n    fontSize: 20,\n    marginTop: 10,\n  },\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    width: 200,\n  },\n  text: {\n    fontWeight: \"bold\",\n  },\n  container1: {\n    backgroundColor: \"#f0ffff\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5,\n  },\n  container2: {\n    backgroundColor: \"#fffacd\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5,\n  },\n  container3: {\n    backgroundColor: \"#ffb6c1\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5,\n  },\n  container4: {\n    backgroundColor: \"#f5f5dc\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5,\n  },\n  container5: {\n    backgroundColor: \"#dda0dd\",\n    paddingLeft: 20,\n    borderWidth: 2,\n    margin: 5,\n  },\n  subscore: {\n    fontWeight: \"bold\",\n    borderWidth: 1,\n    backgroundColor: \"#fff\",\n    margin: 10,\n    padding: 4,\n    fontSize: 20,\n  },\n  submit: {\n    borderWidth: 2,\n    backgroundColor:\"#56BF9C\",\n    margin: 10,\n    padding: 7,\n    marginLeft: 800,\n    width: 90,\n  }\n});\n"]},"metadata":{},"sourceType":"module"}
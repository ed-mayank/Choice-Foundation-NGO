{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{useNavigate}from\"react-router-dom\";import React,{useState}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import Pressable from\"react-native-web/dist/exports/Pressable\";import Alert from\"react-native-web/dist/exports/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var Navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var authenticate=function authenticate(){var requestOptions,result,data;return _regeneratorRuntime.async(function authenticate$(_context){while(1){switch(_context.prev=_context.next){case 0:requestOptions={method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({username:username,password:password,hospitalID:\"dpmta\"})};_context.next=3;return _regeneratorRuntime.awrap(fetch('https://devapi.igzolt.in/index.php/v1/authentication/login',{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({username:username,password:password,hospitalID:\"dpmta\"})}));case 3:result=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(result.json());case 6:data=_context.sent;if(result.status===200){if(localStorage.getItem('user_data')!=null){localStorage.removeItem('user_data');}localStorage.setItem('user_data',JSON.stringify(data));Navigate('/User_id/Profile');}else{console.log(\"wrong\");Alert.alert(\"Invalid credentials\");}case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);};return _jsxs(SafeAreaView,{style:styles.container,children:[_jsx(TextInput,{placeholder:\"Email\",style:styles.inputStyle,onChangeText:function onChangeText(username){setUsername(username);}}),_jsx(TextInput,{secureTextEntry:true,placeholder:\"Password\",style:styles.inputStyle,onChangeText:function onChangeText(password){setPassword(password);}}),_jsx(Pressable,{onPress:authenticate,style:styles.button,children:_jsx(Text,{style:styles.buttonLabel,children:\"Login\"})})]});};var styles=StyleSheet.create({container:{flex:1,alignItems:'center',justifyContent:'center'},formLabel:{fontSize:20,color:'#fff'},inputStyle:{marginTop:20,width:300,height:40,paddingHorizontal:10,borderRadius:50,backgroundColor:'#DCDCDC'},formText:{alignItems:'center',justifyContent:'center',color:'#fff',fontSize:20},text:{color:'#fff',fontSize:20},button:{marginTop:20,paddingHorizontal:10,borderRadius:50,width:300,height:40,alignItems:'center'},buttonLabel:{fontSize:20,fontWeight:'bold',color:'blue'}});export default Login;","map":{"version":3,"sources":["/home/mayank/DASS/DASS2K22-Team-48/src/Frontend/components/Login.js"],"names":["useNavigate","React","useState","Login","Navigate","username","setUsername","password","setPassword","authenticate","requestOptions","method","headers","Accept","body","JSON","stringify","hospitalID","fetch","result","json","data","status","localStorage","getItem","removeItem","setItem","console","log","Alert","alert","styles","container","inputStyle","button","buttonLabel","StyleSheet","create","flex","alignItems","justifyContent","formLabel","fontSize","color","marginTop","width","height","paddingHorizontal","borderRadius","backgroundColor","formText","text","fontWeight"],"mappings":"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","sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport React, { useState } from 'react';\nimport {\n  StyleSheet,\n  Text,\n  TextInput,\n  SafeAreaView,\n  Pressable,\n  Alert,\n} from 'react-native';\n\nconst Login = () => {\n  const Navigate = useNavigate()\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const authenticate = async () => {\n    const requestOptions = {\n      method: 'POST',\n      headers: { Accept: 'application/json', 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        username: username,\n        password: password,\n        hospitalID: \"dpmta\"\n      })\n    };\n\n    const result = await fetch('https://devapi.igzolt.in/index.php/v1/authentication/login',\n      {\n        method: 'POST',\n        headers: { Accept: 'application/json', 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: username,\n          password: password,\n          hospitalID: \"dpmta\"\n        })\n      })\n    const data = await result.json();\n    // console.log(data.status)\n\n    if (result.status === 200) {\n      if (localStorage.getItem('user_data') != null) {\n        localStorage.removeItem('user_data')\n      }\n      localStorage.setItem('user_data', JSON.stringify(data))\n      Navigate('/User_id/Profile')\n    }\n    else {\n      console.log(\"wrong\")\n      Alert.alert(\"Invalid credentials\");\n    }\n    // else if (data.status === \"Fail\") {\n    //   console.log(\"wrong\")\n    //   Alert.alert(\"Invalid credentials\");\n    // }\n\n\n  }\n  return (\n    <SafeAreaView style={styles.container}>\n      <TextInput\n        placeholder=\"Email\"\n        style={styles.inputStyle}\n        onChangeText={(username) => {\n          setUsername(username);\n        }}\n      />\n      <TextInput\n        secureTextEntry={true}\n        placeholder=\"Password\"\n        style={styles.inputStyle}\n        onChangeText={(password) => {\n          setPassword(password);\n        }}\n      />\n      <Pressable onPress={authenticate} style={styles.button}>\n        <Text style={styles.buttonLabel}>Login</Text>\n      </Pressable>\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  formLabel: {\n    fontSize: 20,\n    color: '#fff',\n  },\n  inputStyle: {\n    marginTop: 20,\n    width: 300,\n    height: 40,\n    paddingHorizontal: 10,\n    borderRadius: 50,\n    backgroundColor: '#DCDCDC',\n  },\n  formText: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    color: '#fff',\n    fontSize: 20,\n  },\n  text: {\n    color: '#fff',\n    fontSize: 20,\n  },\n  button: {\n    marginTop: 20,\n    paddingHorizontal: 10,\n    // paddingVertical: 6,\n    borderRadius: 50,\n    // backgroundColor: 'oldlace',\n    // marginHorizontal: '1%',\n    // marginBottom: 6,\n    // minWidth: '48%',\n    width: 300,\n    height: 40,\n    // textAlign: 'center',\n    alignItems: 'center',\n  },\n  buttonLabel: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'blue',\n  },\n});\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}
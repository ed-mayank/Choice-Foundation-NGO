{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useContext,useEffect,useState}from'react';import{useNavigate,useParams,useLocation}from\"react-router-dom\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function GetP_id(){var c=0;var index=0;var path=location.pathname;for(var i=0;i<path.length;i++){if(path.charAt(i)=='/'){c++;}if(c==3){index=i;break;}if(c==2){index=path.length;}}return path.substring(12,index);}var Profile=function Profile(){var location=useLocation();var p_id=GetP_id();var initialPatients=[];var _useState=useState(initialPatients),_useState2=_slicedToArray(_useState,2),patients=_useState2[0],setPatients=_useState2[1];var _useState3=useState(initialPatients),_useState4=_slicedToArray(_useState3,2),patient=_useState4[0],setPatient=_useState4[1];var patientsList=function patientsList(){var result,data,p_list;return _regeneratorRuntime.async(function patientsList$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('https://devapi.igzolt.in/index.php/Api/ip_patients_list1',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"start\":\"1\",\"limit\":\"20\",\"ser_hospitalid\":\"3\",\"sear_umr_no\":\"\",\"sear_ip_no\":\"\",\"sear_patient\":\"\",\"sear_admission_date\":\"\",\"sear_consult_doctor\":\"\",\"sear_sponser\":\"\",\"admission_date_order\":\"\",\"doctor_name_order\":\"\",\"ipno_order\":\"\",\"sponser_order\":\"\",\"sear_ptmid\":\"\"})}));case 2:result=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(result.json());case 5:data=_context.sent;p_list=data.data;setPatients(p_list);case 8:case\"end\":return _context.stop();}}},null,null,null,Promise);};useEffect(function(){if(localStorage.getItem('user_data')==null){alert(\"Unauthorised Access\");navigate(\"/\");}patientsList();},[]);var i=0;for(i=0;i<patients.length;i++){if(patients[i].P_ID==p_id){break;}}if(patients[i]){return _jsxs(SafeAreaView,{style:styles.container,children:[_jsx(Text,{style:styles.textStyle,children:\"Name:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].PATIENT_NAME]}),_jsx(Text,{style:styles.textStyle,children:\"IP Number:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].P_ID]}),_jsx(Text,{style:styles.textStyle,children:\"Date of Admission:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].IP_ADMISSION_DATE]}),_jsx(Text,{style:styles.textStyle,children:\"Time of Admission:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].IP_ADMISSION_TIME]}),_jsx(Text,{style:styles.textStyle,children:\"Age:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].AGE]}),_jsx(Text,{style:styles.textStyle,children:\"Gender:\"}),_jsxs(Text,{style:styles.textStyle1,children:[\" \",patients[i].GENDER]})]});}else{return _jsx(SafeAreaView,{style:styles.container});}};var styles=StyleSheet.create({container:{flex:1,alignItems:'center',justifyContent:'center'},textStyle:{flex:1,marginTop:20,width:300,height:40,fontSize:20,fontWeight:\"bold\",paddingHorizontal:10},textStyle1:{flex:1,marginTop:20,width:300,height:40,fontSize:20,paddingHorizontal:10}});export default Profile;","map":{"version":3,"sources":["/home/mayank/DASS/DASS2K22-Team-48/src/Frontend/components/ProfilePatient.js"],"names":["React","useContext","useEffect","useState","useNavigate","useParams","useLocation","GetP_id","c","index","path","location","pathname","i","length","charAt","substring","Profile","p_id","initialPatients","patients","setPatients","patient","setPatient","patientsList","fetch","method","headers","body","JSON","stringify","result","json","data","p_list","localStorage","getItem","alert","navigate","P_ID","styles","container","textStyle","textStyle1","PATIENT_NAME","IP_ADMISSION_DATE","IP_ADMISSION_TIME","AGE","GENDER","StyleSheet","create","flex","alignItems","justifyContent","marginTop","width","height","fontSize","fontWeight","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\n\nimport {\n    StyleSheet,\n    Text,\n    SafeAreaView,\n} from 'react-native';\n\nfunction GetP_id() {\n\n    var c = 0;\n    var index = 0\n    var path = location.pathname\n    for (var i = 0; i < path.length; i++) {\n        if (path.charAt(i) == '/') {\n            c++;\n        }\n        if (c == 3) {\n            index = i\n            break;\n        }\n        if (c == 2) {\n            index = path.length;\n        }\n    }\n    return path.substring(12, index)\n}\n\nconst Profile = () => {\n    const location = useLocation()\n    var p_id = GetP_id();\n\n    const initialPatients = [];\n    // const t_Patient = [];\n    const [patients, setPatients] = useState(initialPatients);\n    const [patient, setPatient] = useState(initialPatients);\n    const patientsList = async () => {\n        const result = await fetch('https://devapi.igzolt.in/index.php/Api/ip_patients_list1',\n            {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    \"start\": \"1\",\n                    \"limit\": \"20\",\n                    \"ser_hospitalid\": \"3\",\n                    \"sear_umr_no\": \"\",\n                    \"sear_ip_no\": \"\",\n                    \"sear_patient\": \"\",\n                    \"sear_admission_date\": \"\",\n                    \"sear_consult_doctor\": \"\",\n                    \"sear_sponser\": \"\",\n                    \"admission_date_order\": \"\",\n                    \"doctor_name_order\": \"\",\n                    \"ipno_order\": \"\",\n                    \"sponser_order\": \"\",\n                    \"sear_ptmid\": \"\"\n                })\n            })\n        const data = await result.json();\n        const p_list = data.data\n        // console.log(p_list);\n        setPatients(p_list);\n    }\n    useEffect(() => {\n        // console.log(\"api\")\n        if (localStorage.getItem('user_data') == null) {\n            alert(\"Unauthorised Access\")\n            navigate(\"/\")\n        }\n        patientsList();\n        // console.log(\"hah\")\n    }, []);\n\n    var i = 0;\n    for (i = 0; i < patients.length; i++) {\n        // console.log(patients[i].P_ID)\n        if (patients[i].P_ID == p_id) {\n            break;\n        }\n    }\n\n    if (patients[i]) {\n        return (\n            <SafeAreaView style={styles.container}>\n                <Text style={styles.textStyle}>Name:</Text><Text style={styles.textStyle1}> {patients[i].PATIENT_NAME}</Text>\n                <Text style={styles.textStyle}>IP Number:</Text><Text style={styles.textStyle1}> {patients[i].P_ID}</Text>\n                <Text style={styles.textStyle}>Date of Admission:</Text><Text style={styles.textStyle1}> {patients[i].IP_ADMISSION_DATE}</Text>\n                <Text style={styles.textStyle}>Time of Admission:</Text><Text style={styles.textStyle1}> {patients[i].IP_ADMISSION_TIME}</Text>\n                <Text style={styles.textStyle}>Age:</Text><Text style={styles.textStyle1}> {patients[i].AGE}</Text>\n                <Text style={styles.textStyle}>Gender:</Text><Text style={styles.textStyle1}> {patients[i].GENDER}</Text>\n            </SafeAreaView>\n        )\n    }\n    else {\n        return (\n            <SafeAreaView style={styles.container}>\n                {/* <Text style={styles.textStyle}>Name: {patients[i].P_ID}</Text>\n                <Text style={styles.textStyle}>IP Number: sdjhk</Text>\n                <Text style={styles.textStyle}>Date of Admission: DD/MM/YY</Text>\n                <Text style={styles.textStyle}>Time of Admission: HH:MM</Text>\n                <Text style={styles.textStyle}>Age: xx</Text>\n                <Text style={styles.textStyle}>Gender: M/F/Others</Text> */}\n            </SafeAreaView>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    textStyle: {\n        flex: 1,\n        marginTop: 20,\n        width: 300,\n        height: 40,\n        fontSize: 20,\n        fontWeight: \"bold\",\n        paddingHorizontal: 10,\n    },\n    textStyle1: {\n        flex: 1,\n        marginTop: 20,\n        width: 300,\n        height: 40,\n        fontSize: 20,\n        paddingHorizontal: 10,\n    },\n})\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}